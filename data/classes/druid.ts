import { ClassItem, SubclassItem } from '../../types';

export const DRUID_CLASS: ClassItem = {
    id: "druid-2024",
    name: "德鲁伊",
    source: "官方规则",
    description: "变身野兽\n自然之怒\n召唤千军\n元素操控\n环保卫士",
    fullDescription: "你通过研究自然的神秘伟力学会了如何施展法术。参考第七章中的施法规则。\n\n**施法 (Spellcasting)**\n• **戏法**: 你习得两个德鲁伊法术列表中的戏法。推荐选择 德鲁伊伎俩 和 燃火术。4级和10级时习得额外戏法。\n• **法术位**: 已消耗的法术位可在完成长休后恢复。\n• **准备法术**: 起始时，你从德鲁伊法术列表中选择并准备四个一环法术。推荐选择 化兽为友、疗伤术、妖火 和 雷鸣波。每当你结束一次长休时，你可以改变你的法术准备列表。\n• **施法属性**: 感知。\n• **施法法器**: 德鲁伊法器。\n\n**德鲁伊语 (Druidic)**\n你学会德鲁伊语，一门德鲁伊之间的秘密语言。在学会这门古老语言的同时，你也解锁了和动物交谈的魔法：你始终准备 动物交谈术 法术。\n\n**荒野形态 (Wild Shape)**\n大自然的魔力使你得以化形为一只野兽。你可以使用两次荒野形态。短休后恢复一次，长休后恢复全部。",
    hitDie: "d8",
    primaryAbility: "感知",
    saves: ["智力", "感知"],
    tags: ["变形", "施法者", "自然"],
    coreTraits: {
        primaryAbility: "感知",
        hitPointDie: "每德鲁伊等级 d8",
        savingThrows: "智力与感知",
        skillProficiencies: "选择2项：奥秘、驯兽、洞悉、医疗、自然、察觉、宗教或生存",
        weaponProficiencies: "简易武器",
        armorTraining: "轻甲和盾牌",
        startingEquipment: {
            optionA: "皮甲、盾牌、镰刀，德鲁伊法器（长棍），探索套组，草药工具，以及 9GP",
            optionB: "50 GP"
        }
    },
    subclassLevel: 3,
    subclasses: [],
    features: [
        { level: 1, name: "德鲁伊语 (Druidic)", description: "你学会德鲁伊语，一门德鲁伊之间的秘密语言。你始终准备 动物交谈术 法术。你可以使用德鲁伊语来传递隐藏的信息（察觉DC 15）。" },
        { level: 1, name: "原初誓约 (Primal Order)", description: "你将自己投身于所选择的以下一项神圣的角色之中：\n• **术师 (Magician)**: 你学会一个额外的德鲁伊戏法。此外，你和自然的神秘连接让你在智力（奥秘或自然）检定上获得加值，加值等于你的感知调整值（最小为 1）。\n• **卫士 (Warden)**: 你受到了战斗的训练，获得军用武器熟练和中甲熟练。" },
        { level: 1, name: "施法 (Spellcasting)", description: "感知是你德鲁伊法术的施法属性。你可以使用德鲁伊法器。你起始准备4个一环法术。每当完成长休，你可以改变准备法术列表。" },
        { level: 2, name: "荒野伙伴 (Wild Companion)", description: "你可以召唤出一个动物外形的自然精魂来帮助自己。以一个魔法动作，你可以消耗一个法术位，或一次荒野变形次数来施展 寻获魔宠 法术，无需任何材料成分。\n当你以这种方式施展这一法术时，获得的魔宠为妖精，并且它会在你结束一次长休后消失。" },
        { level: 2, name: "荒野形态 (Wild Shape)", description: "以一个附赠动作，你变形为一只你已经通过该特性学会的野兽形态。你能保持该形态长达你德鲁伊等级一半的小时数。\n• **使用次数**: 2次。短休恢复1次，长休恢复全部。\n• **已知形态**: 起始4种（最大CR 1/4，无飞行）。推荐老鼠、骑乘用马、蜘蛛和狼。长休后可更换一种形态。\n• **规则**: 获得等于德鲁伊等级的临时HP。保留智力/感知/魅力、职业特性、语言和专长。若野兽技能/熟练更高则使用之。不能施法，但保持专注。装备可落地、融入或着装。" },
        { level: 3, name: "德鲁伊子职 (Druid Subclass)", description: "你选择获得一项德鲁伊子职：大地结社、月亮结社、海洋结社或星辰结社。" },
        { level: 4, name: "属性值提升", description: "获得属性值提升专长或其他你满足条件的专长。" },
        { level: 5, name: "荒野复苏 (Wild Resurgence)", description: "每个你的回合内一次，如果你没有荒野变形使用次数，你可以消耗一个法术位（无需动作）让自己获得一次荒野变形使用次数。\n此外，你可以消耗一次荒野变形使用次数（无需动作）来令自己获得一个 1 环法术位，在你结束一次长休以前，你无法再次这样做。" },
        { level: 6, name: "子职特性", description: "获得你所选的德鲁伊子职 6 级特性。" },
        { level: 7, name: "元素之怒 (Elemental Fury)", description: "元素之力在你的身体里流淌。你获得以下一个你选择的特性：\n• **强力施法**: 你将你的感知调整值加在你的以德鲁伊戏法造成的伤害上。\n• **原力蛮击**: 一回合一次，当你以一次武器攻击或荒野变形后野兽形态的攻击命中一个生物时，你可以对目标额外造成 1d8 寒冷、火焰、闪电或雷鸣伤害（由你命中时选择）。" },
        { level: 8, name: "属性值提升", description: "获得属性值提升专长。你现在可以使用具有飞行速度的荒野形态（最大CR 1）。" },
        { level: 10, name: "子职特性", description: "获得你所选的德鲁伊子职 10 级特性。" },
        { level: 12, name: "属性值提升", description: "获得属性值提升专长。" },
        { level: 14, name: "子职特性", description: "获得你所选的德鲁伊子职 14 级特性。" },
        { level: 15, name: "元素神威 (Improved Elemental Fury)", description: "你选择的元素之怒特性变得愈发强大：\n• **强力施法**: 当你施展一个施法距离为 10 尺及以上的德鲁伊戏法时，法术施法距离提升到 300 尺。\n• **原力蛮击**: 原力蛮击的额外伤害提升到 2d8。" },
        { level: 16, name: "属性值提升", description: "获得属性值提升专长。" },
        { level: 18, name: "兽形施法 (Beast Spells)", description: "你可以在任何荒野变形下施法。但当一个法术需要消耗标有价值的材料成分、或需要消耗材料成分时，你无法在荒野变形下施展。" },
        { level: 19, name: "传奇恩惠", description: "获得一项传奇恩惠专长或其他一项你选择的适用的专长。推荐次元旅行之恩惠。" },
        { level: 20, name: "大德鲁伊 (Archdruid)", description: "自然的活力在你的身上永不凋零：\n• **不凋化形**: 当你投掷先攻时，若你没有荒野变形的使用次数，你获得一次荒野形态使用次数。\n• **自然术使**: 你可以将荒野变形使用次数转化为法术位（无需任何动作）。选择一定数量的你未使用的荒野变形使用次数，将它们转化为一个法术位，每个使用次数可以转为 2 个法术环阶。例如，两个次数可转化为 4 环法术位。长休一次。\n• **青春永驻**: 每经过 10 年的岁月，你的身体就仿佛只过了 1 年。" }
    ]
};

export const DRUID_SUBCLASSES: SubclassItem[] = [
    {
        id: "druid-land",
        name: "大地结社",
        parentClass: "德鲁伊",
        source: "官方规则",
        description: "大地结社的德鲁伊是古老知识的守护者。",
        features: [
            {
                level: 3,
                name: "大地之援 (Land's Aid)",
                description: "以一个魔法动作，你可以消耗一次荒野变形使用次数，选择距你 60 尺内的一点。该点半径 10 尺球状区域内迸发出能量。\n该区域内每个你选择的生物必须进行一次体质豁免。失败受到 2d6 黯蚀伤害，成功减半。此外，区域内每个你选择的生物恢复 2d6 生命值。\n伤害和治疗量随等级提升：10级变为 3d6，14级变为 4d6。"
            },
            {
                level: 3,
                name: "结社法术 (Circle Spells)",
                description: "当你结束一次长休，选择一种地形：荒漠、极地、温带或热带。你将根据选择的地形获得始终准备的结社法术（见规则书列表）。\n• **荒漠**: 朦胧术, 燃烧之手, 火焰箭 (Lv3); 火球术 (Lv5); 枯萎术 (Lv7); 石墙术 (Lv9)\n• **极地**: 云雾术, 人类定身术, 冷冻射线 (Lv3); 雪雨暴 (Lv5); 冰风暴 (Lv7); 冰寒锥 (Lv9)\n• **温带**: 迷踪步, 电爪, 睡眠术 (Lv3); 闪电束 (Lv5); 行动自如 (Lv7); 树跃术 (Lv9)\n• **热带**: 酸液飞溅, 致病射线, 蛛网术 (Lv3); 臭云术 (Lv5); 变形术 (Lv7); 疫病虫群 (Lv9)"
            },
            {
                level: 6,
                name: "自然恢复 (Natural Recovery)",
                description: "你可以无需消耗法术位施展一个你以结社法术特性准备的 1 环及以上法术。长休恢复。\n此外，当你结束一次短休后，你可以选择恢复消耗的法术位。法术环阶的总和等于你德鲁伊职业等级的一半（向上取整），且不能是 6 环或更高环阶的法术位。长休恢复。"
            },
            {
                level: 10,
                name: "自然守御 (Natural Ward)",
                description: "你免疫中毒，并且你具有和你目前在结社法术特性中选择的土地相关的伤害类型的抗性：\n• 荒漠: 火焰\n• 极地: 寒冷\n• 温带: 闪电\n• 热带: 毒素"
            },
            {
                level: 14,
                name: "自然庇护 (Nature's Sanctuary)",
                description: "以一个魔法动作，你消耗一次荒野变形次数，在你 120 尺内的地面上制造出 15 尺立方的灵体丛林和藤蔓。持续 1 分钟。\n在该区域内，你和你的盟友获得半掩护，你的盟友还会获得你自然守御特性提供的伤害抗性。\n以一个附赠动作，你可以将立方区域在你的 120 尺内移动最多 60 尺距离。"
            }
        ]
    },
    {
        id: "druid-moon",
        name: "月亮结社",
        parentClass: "德鲁伊",
        source: "官方规则",
        description: "月亮结社的德鲁伊是荒野形态的大师。",
        features: [
            {
                level: 3,
                name: "结社形态 (Circle Forms)",
                description: "你学会了如何在使用荒野变形的同时引导月之魔力，增益自身的力量：\n• **挑战等级**: 你的荒野变形形态的最大挑战等级现在等于你德鲁伊等级的三分之一（向下取整）。\n• **护甲等级**: 当你化为荒野变形形态时，如果 13+你的感知调整值 高于野兽的护甲等级，你的护甲等级等于 13+你的感知调整值。\n• **临时生命值**: 获得等于德鲁伊等级的三倍数量的临时生命值。"
            },
            {
                level: 3,
                name: "结社法术 (Circle Spells)",
                description: "你自动获得始终准备的结社法术，并且你可以在荒野形态下施展这些法术：\n• Lv3: 疗伤术，月华之光，点点星芒\n• Lv5: 兽群咒唤术\n• Lv7: 月光涌泉\n• Lv9: 群体疗伤术"
            },
            {
                level: 6,
                name: "进阶结社形态 (Improved Circle Forms)",
                description: "• **月耀辉光**: 你在荒野变形形态下的每次攻击可以造成普通的伤害或光耀伤害。由你在每次攻击命中时选择。\n• **强化韧性**: 你将你的感知调整值加到你的体质豁免结果当中。"
            },
            {
                level: 10,
                name: "月光飞步 (Moonlight Step)",
                description: "以一个附赠动作，你传送最多 30 尺到一处你能看见的未被占据的空间，并且你在这个回合结束前进行的下一次攻击具有优势。\n使用次数等于感知调整值（至少1次），长休恢复。也可消耗2环或更高法术位恢复一次。"
            },
            {
                level: 14,
                name: "月辉形态 (Lunar Form)",
                description: "• **月耀炽光**: 一回合一次，你可以对一次荒野形态下的攻击命中的目标额外造成 2d10 光耀伤害。\n• **月辉同行**: 当你使用月光飞步时，你还能传送另一个自愿的生物。该生物必须在你的 10 尺内，并且你将它传送到你出现点的 10 尺内的一个你能看见的未被占据空间中。"
            }
        ]
    },
    {
        id: "druid-sea",
        name: "海洋结社",
        parentClass: "德鲁伊",
        source: "官方规则",
        description: "与海洋建立深刻联系。",
        features: [
            {
                level: 3,
                name: "结社法术 (Circle Spells)",
                description: "你自动获得始终准备的结社法术：\n• Lv3: 云雾术, 造风术, 冷冻射线\n• Lv5: 闪电束, 水下呼吸, 粉碎音, 雷鸣波\n• Lv7: 操控水体, 冰风暴\n• Lv9: 元素咒唤术, 怪物定身术"
            },
            {
                level: 3,
                name: "瀚海之怒 (Wrath of the Sea)",
                description: "以一个附赠动作，你可以消耗一次你的荒野变形次数来在自己周围显现出海浪形态的 5 尺灵光。灵光会持续存在 10 分钟。\n当你显现出灵光时，以及在之后的回合中以一个附赠动作，你可以选择另一个在你灵光范围内可以看见的生物。该生物必须成功通过一次体质豁免，否则受到寒冷伤害（d6数量等于感知调整值，最少1颗），如果该生物是大型或更小体型，它会被从你身边推离至多 15 尺距离。"
            },
            {
                level: 6,
                name: "水生亲和 (Aquatic Affinity)",
                description: "你的瀚海之怒创造的灵光范围提升到 10 尺。此外，你获得等同于你的速度的游泳速度。"
            },
            {
                level: 10,
                name: "风暴降生 (Stormborn)",
                description: "你的瀚海之怒特性在激活时获得两项额外增益：\n• **飞行**: 你获得等于你的速度的飞行速度。\n• **抗性**: 你获得对寒冷、闪电和雷鸣伤害的抗性。"
            },
            {
                level: 14,
                name: "大洋慨赠 (Oceanic Gift)",
                description: "当你使用瀚海之怒时，你可以让 60 尺内一个自愿生物而非你自己身上显现出灵光。该生物获得灵光的所有增益，并在特性中使用你的法术豁免 DC 和感知调整值。\n此外，如果你消耗两次而非一次荒野变形使用次数，你可以同时在你自己和另一个生物身上显现出灵光。"
            }
        ]
    },
    {
        id: "druid-stars",
        name: "星辰结社",
        parentClass: "德鲁伊",
        source: "官方规则",
        description: "观测星象，获得力量。",
        features: [
            {
                level: 3,
                name: "星图 (Star Map)",
                description: "你创造了一张星图作为法器（卷轴/石板/水晶等）。\n当你持握星图时，你总是准备着 神导术 和 光导箭。并且你可以无需消耗法术位施展光导箭，次数等于感知调整值（长休恢复）。"
            },
            {
                level: 3,
                name: "星耀形态 (Starry Form)",
                description: "以一个附赠动作，你可以消耗一次荒野形态次数呈现星耀形态（持续10分钟），发出光亮。变身时选择一个星座增益：\n• **射手座**: 附赠动作发动远程法术攻击（60尺），造成 1d8+感知 光耀伤害。\n• **圣杯座**: 施展治疗法术时，你或30尺内一生物额外恢复 1d8+感知 生命值。\n• **巨龙座**: 进行智力/感知检定或维持专注的体质豁免时，d20结果若为9或更低则视为10。"
            },
            {
                level: 6,
                name: "宇宙预兆 (Cosmic Omen)",
                description: "长休后掷骰决定吉兆（偶数）或凶兆（奇数）。\n• **吉兆**: 反应使30尺内生物攻击/检定/豁免 +d6。\n• **凶兆**: 反应使30尺内生物攻击/检定/豁免 -d6。\n次数等于感知调整值（长休恢复）。"
            },
            {
                level: 10,
                name: "闪烁星座 (Twinkling Constellations)",
                description: "星耀形态增强：射手座和圣杯座的 d8 变为 2d8。巨龙座获得 20 尺飞行速度并可悬浮。\n此外，每当你回合开始时，你可以更改当前身上闪耀的星座。"
            },
            {
                level: 14,
                name: "灿若繁星 (Full of Stars)",
                description: "当你处于星耀形态时，你的身体部分无实质化，获得对钝击、穿刺和挥砍伤害的抗性。"
            }
        ]
    }
];
